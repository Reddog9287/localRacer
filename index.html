<!doctype html>
<html lang="en">
    <head>
        <!-- Template the <head> -->
        <title>Local Racer</title>
        <link href="css/bootstrap.css" rel="stylesheet">
        <style>
              html, body, #map-canvas {
                height: 100%;
                margin: 0px;
                padding: 0px
              }
        </style>
    </head>
    <body>
        <!-- Template the navbar -->
        <div class="navbar navbar-default navbar-static-top">
            <div class="container">
                <div class="navbar-header">
                  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                  </button>
                </div>
                <div class="navbar-collapse collapse" style="max-width:812px;min-width:480px;margin-left:auto;margin-right:auto;">
                  <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">Leaderboards</a></li>
                    <li><a href="#contact">Play</a></li>
                    <li><a href="#shop">Sign Up</a></li>
                  </ul>
                </div>
            </div>
        </div>

        <!-- Geofence array - Longitude, Latitude, Radius -->

        <div id="header"></div>

        <div id="sidebar"></div>

        <div class="jumbotron" style="background-image:url('image/ferrari.jpg');background-color:rgb(85,81,72);background-repeat:no-repeat;background-size:cover;height:500px;background-position:center;">
          <div class="container" style="text-align:left;color:white;text-shadow:2px 2px 5px #333;">
            <h1>Want to be a bad ass and race your friends?</h1>
            <p>Local Racer <br></p>
          </div>
        </div>

        <div class="container">
          <div class="row">
            <div class="col-lg-12" style="text-align:center;height:450px;">
              <br>
              <img src="img/cia.png" width="150">
              <h2>Sign Up Tomorrow!</h2>
              <div class="test">
                  <input type="text" id="email"></input>
                  <input type="text" id="vehicle"></input>
                  <input type="text" id="race"></input>
                  <input type="text" id="time"></input>
                  <a class="btn btn-success save">Save</a>
              </div>
              <div id="map-canvas"></div>
            </div>
          </div>

        </div>

        <footer>
            <div class="container">
            </div>
        </footer>

        <!--<script src="js/jquery-1.9.1.min.js"></script>  //ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js -->
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/underscore.js"></script>
        <script src="js/backbone.js"></script>
        <script src="js/application.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
        <script>
        var map;

        function initialize() {
          var mapOptions = {
            zoom: 6,
            mapTypeId: google.maps.MapTypeId.ROADMAP
          };
          map = new google.maps.Map(document.getElementById('map-canvas'),
              mapOptions);

          var chicago = new google.maps.LatLng(40.485340, -74.436923);
          var mexico = new google.maps.LatLng(40.486165, -74.438657);

          new google.maps.Marker({
                position: chicago,
                map: map,
                title: "Chicago"
          });
          new google.maps.Marker({
                position: mexico,
                map: map,
                title: "Mexico"
          });

          var directionsService = new google.maps.DirectionsService();
          var directionsRequest = {
            origin: chicago,
            destination: mexico,
            travelMode: google.maps.DirectionsTravelMode.DRIVING,
            unitSystem: google.maps.UnitSystem.METRIC
          };

          directionsService.route(
            directionsRequest,
            function(response, status)
            {
              if (status == google.maps.DirectionsStatus.OK)
              {
                new google.maps.DirectionsRenderer({
                  map: map,
                  directions: response
                });
              }
              else
                $("#error").append("Unable to retrieve your route<br />");
            }
          );

          // Try HTML5 geolocation
          if(navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function(position) {
              var pos = new google.maps.LatLng(position.coords.latitude,
                                               position.coords.longitude);

              map.setCenter(pos);

            }, function() {
              handleNoGeolocation(true);
            });
          } else {
            // Browser doesn't support Geolocation
            handleNoGeolocation(false);
          }
        }

        function handleNoGeolocation(errorFlag) {
          if (errorFlag) {
            var content = 'Error: The Geolocation service failed.';
          } else {
            var content = 'Error: Your browser doesn\'t support geolocation.';
          }

          var options = {
            map: map,
            position: new google.maps.LatLng(60, 105),
            content: content
          };

          map.setCenter(options.position);
        }

        google.maps.event.addDomListener(window, 'load', initialize);
        </script>
    </body>
</html>